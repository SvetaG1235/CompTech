<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏ | CompTech</title>
    <link rel="stylesheet" href="/styles/admin.css">
</head>
<body>
    <header class="admin-header">
        <div class="container">
            <div class="logo">
                <img src="/images/logo.png" alt="CompTech Logo">
                <h1>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏</h1>
            </div>
            <nav>
                <ul>
                    <li><a href="/admin/dashboard">–ù–∞–∑–∞–¥ –≤ –ø–∞–Ω–µ–ª—å</a></li>
                    <li><a href="/auth/logout">–í—ã–π—Ç–∏</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="admin-container">
        <div class="products-admin">
            <div class="admin-actions">
                <button id="addProductBtn" class="btn btn-primary">+ –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</button>
            </div>
            <div id="productFormContainer" class="product-form" style="display: none;">
                <h3>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–æ–≤–∞—Ä</h3>
                <form id="addProductForm" action="/admin/products" method="POST" enctype="multipart/form-data">
                    <div class="form-group">
                        <label for="name">–ù–∞–∑–≤–∞–Ω–∏–µ:</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
                        <select id="category" name="category" required>
                            <option value="–ù–æ—É—Ç–±—É–∫–∏">–ù–æ—É—Ç–±—É–∫–∏</option>
                            <option value="–ö–æ–º–ø–ª–µ–∫—Ç—É—é—â–∏–µ">–ö–æ–º–ø–ª–µ–∫—Ç—É—é—â–∏–µ</option>
                            <option value="–ü–µ—Ä–∏—Ñ–µ—Ä–∏—è">–ü–µ—Ä–∏—Ñ–µ—Ä–∏—è</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="price">–¶–µ–Ω–∞ (‚ÇΩ):</label>
                        <input type="number" id="price" name="price" step="0.01" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="stock">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:</label>
                        <input type="number" id="stock" name="stock" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="description">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                        <textarea id="description" name="description" rows="3"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="image">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:</label>
                        <input type="file" id="image" name="image" accept="image/*">
                    </div>
                    
                    <button type="submit" class="btn btn-submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button type="button" id="cancelFormBtn" class="btn btn-cancel">–û—Ç–º–µ–Ω–∞</button>
                </form>
            </div>

            <div class="product-list">
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                            <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                            <th>–¶–µ–Ω–∞</th>
                            <th>–û—Å—Ç–∞—Ç–æ–∫</th>
                            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                        </tr>
                    </thead>
                    <tbody>
                        {{#each products}}
                        <tr>
                            <td>{{this.id}}</td>
                            <td>{{this.name}}</td>
                            <td>{{this.category}}</td>
                            <td>{{this.price}} ‚ÇΩ</td>
                            <td>{{this.stock}} —à—Ç.</td>
                            <td class="actions">
                                <a href="/admin/products/{{this.id}}/edit" class="btn-edit">‚úèÔ∏è</a>
                                <form action="/admin/products/{{this.id}}/delete" method="POST" class="delete-form">
                                    <button type="submit" class="btn-delete">üóëÔ∏è</button>
                                </form>
                            </td>
                        </tr>
                        {{/each}}
                    </tbody>
                </table>
            </div>
        </div>
    </main>

    <footer class="admin-footer">
        <div class="container">
            <p>&copy; {{currentYear}} CompTech. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å.</p>
        </div>
    </footer>

    <script src="/javascripts/admin-products.js"></script>
</body>
</html>